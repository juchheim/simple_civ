
> @simple-civ/engine@1.0.0 test
> vitest run src/map/rivers-polylines.snap.test.ts


 RUN  v1.6.1 /Users/ejuchheim/Projects/Simple-Civ/SimpleCiv/engine

 ❯ src/map/rivers-polylines.snap.test.ts  (3 tests | 2 failed) 57ms
   ❯ src/map/rivers-polylines.snap.test.ts > river polyline snapshots > matches corner/mouth layout for synthetic Small map seed 12345
     → expected [ [ { …(3) }, { …(3) }, …(12) ], …(2) ] to deeply equal [ [ { …(3) }, { …(3) }, …(12) ], …(3) ]
   ❯ src/map/rivers-polylines.snap.test.ts > river polyline snapshots > matches corner/mouth layout for synthetic Standard map seed 98765
     → expected [ [ { …(3) }, { …(3) }, …(16) ], …(5) ] to deeply equal [ [ { …(3) }, { …(3) }, …(16) ], …(6) ]

⎯⎯⎯⎯⎯⎯⎯ Failed Tests 2 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/map/rivers-polylines.snap.test.ts > river polyline snapshots > matches corner/mouth layout for synthetic Small map seed 12345
AssertionError: expected [ [ { …(3) }, { …(3) }, …(12) ], …(2) ] to deeply equal [ [ { …(3) }, { …(3) }, …(12) ], …(3) ]

- Expected
+ Received

  Array [
    Array [
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 5,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          2,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 6,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 6,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 6,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 7,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          4,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 7,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 7,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 7,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          5,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 7,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          2,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 7,
          "r": 3,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 7,
          "r": 3,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 7,
          "r": 3,
        },
      },
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 8,
          "r": 2,
        },
      },
      Object {
        "corners": Array [
          4,
          5,
        ],
        "mouth": true,
        "tile": Object {
          "q": 8,
          "r": 2,
        },
      },
    ],
    Array [
      Object {
        "corners": Array [
          0,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 9,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 10,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          4,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 10,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 10,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          2,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 11,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 11,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 11,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          3,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 12,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          2,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 12,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 12,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          4,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 13,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 13,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          0,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 13,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 14,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          4,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 14,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": true,
        "tile": Object {
          "q": 14,
          "r": 5,
        },
      },
    ],
    Array [
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          5,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 2,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          4,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 2,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          3,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 2,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          0,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 1,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          1,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 1,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 1,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          5,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 0,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          4,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 0,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": -1,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": -1,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          5,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": -1,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": -1,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": true,
        "tile": Object {
          "q": -1,
          "r": 7,
        },
      },
    ],
-   Array [
-     Object {
-       "corners": Array [
-         1,
-         2,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 9,
-         "r": 3,
-       },
-     },
-     Object {
-       "corners": Array [
-         4,
-         5,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 9,
-         "r": 4,
-       },
-     },
-     Object {
-       "corners": Array [
-         5,
-         0,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 9,
-         "r": 4,
-       },
-     },
-     Object {
-       "corners": Array [
-         0,
-         1,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 9,
-         "r": 4,
-       },
-     },
-     Object {
-       "corners": Array [
-         3,
-         2,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 10,
-         "r": 4,
-       },
-     },
-     Object {
-       "corners": Array [
-         2,
-         1,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 10,
-         "r": 4,
-       },
-     },
-     Object {
-       "corners": Array [
-         1,
-         0,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 10,
-         "r": 4,
-       },
-     },
-     Object {
-       "corners": Array [
-         4,
-         5,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 11,
-         "r": 4,
-       },
-     },
-     Object {
-       "corners": Array [
-         5,
-         0,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 11,
-         "r": 4,
-       },
-     },
-     Object {
-       "corners": Array [
-         2,
-         3,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 12,
-         "r": 3,
-       },
-     },
-     Object {
-       "corners": Array [
-         3,
-         4,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 12,
-         "r": 3,
-       },
-     },
-     Object {
-       "corners": Array [
-         4,
-         5,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 12,
-         "r": 3,
-       },
-     },
-     Object {
-       "corners": Array [
-         1,
-         0,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 12,
-         "r": 2,
-       },
-     },
-     Object {
-       "corners": Array [
-         0,
-         5,
-       ],
-       "mouth": true,
-       "tile": Object {
-         "q": 12,
-         "r": 2,
-       },
-     },
-   ],
  ]

 ❯ src/map/rivers-polylines.snap.test.ts:57:25
     55|         );
     56| 
     57|         expect(summary).toEqual([
       |                         ^
     58|             [
     59|                 { tile: { q: 5, r: 7 }, corners: [5, 0], mouth: false …

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/2]⎯

 FAIL  src/map/rivers-polylines.snap.test.ts > river polyline snapshots > matches corner/mouth layout for synthetic Standard map seed 98765
AssertionError: expected [ [ { …(3) }, { …(3) }, …(16) ], …(5) ] to deeply equal [ [ { …(3) }, { …(3) }, …(16) ], …(6) ]

- Expected
+ Received

  Array [
    Array [
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 4,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 9,
        },
      },
      Object {
        "corners": Array [
          0,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 9,
        },
      },
      Object {
        "corners": Array [
          1,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 9,
        },
      },
      Object {
        "corners": Array [
          4,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 10,
        },
      },
      Object {
        "corners": Array [
          3,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 10,
        },
      },
      Object {
        "corners": Array [
          2,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 10,
        },
      },
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 11,
        },
      },
      Object {
        "corners": Array [
          0,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 11,
        },
      },
      Object {
        "corners": Array [
          1,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 11,
        },
      },
      Object {
        "corners": Array [
          4,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 12,
        },
      },
      Object {
        "corners": Array [
          3,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 12,
        },
      },
      Object {
        "corners": Array [
          0,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 2,
          "r": 13,
        },
      },
      Object {
        "corners": Array [
          1,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 2,
          "r": 13,
        },
      },
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 2,
          "r": 13,
        },
      },
      Object {
        "corners": Array [
          5,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 1,
          "r": 14,
        },
      },
      Object {
        "corners": Array [
          4,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 1,
          "r": 14,
        },
      },
      Object {
        "corners": Array [
          3,
          2,
        ],
        "mouth": true,
        "tile": Object {
          "q": 1,
          "r": 14,
        },
      },
    ],
    Array [
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 8,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          2,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 9,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 9,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 9,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 10,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          4,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 10,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 10,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          2,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 11,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 11,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 11,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 12,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          4,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 12,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 12,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 13,
          "r": 3,
        },
      },
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 13,
          "r": 3,
        },
      },
      Object {
        "corners": Array [
          4,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 13,
          "r": 3,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 13,
          "r": 2,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": true,
        "tile": Object {
          "q": 13,
          "r": 2,
        },
      },
    ],
    Array [
      Object {
        "corners": Array [
          0,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 11,
          "r": 9,
        },
      },
      Object {
        "corners": Array [
          3,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 12,
          "r": 9,
        },
      },
      Object {
        "corners": Array [
          2,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 12,
          "r": 9,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 12,
          "r": 9,
        },
      },
      Object {
        "corners": Array [
          4,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 13,
          "r": 9,
        },
      },
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 13,
          "r": 9,
        },
      },
      Object {
        "corners": Array [
          2,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 14,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 14,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 14,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          3,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 15,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          2,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 15,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 15,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          4,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 16,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 16,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          2,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 17,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": true,
        "tile": Object {
          "q": 17,
          "r": 6,
        },
      },
    ],
    Array [
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 3,
          "r": 5,
        },
      },
      Object {
        "corners": Array [
          5,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 2,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          4,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 2,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          3,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 2,
          "r": 6,
        },
      },
      Object {
        "corners": Array [
          0,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 1,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          1,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 1,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 1,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          5,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 0,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          4,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 0,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": -1,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": -1,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          5,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": -1,
          "r": 8,
        },
      },
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": -1,
          "r": 7,
        },
      },
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": true,
        "tile": Object {
          "q": -1,
          "r": 7,
        },
      },
    ],
    Array [
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": false,
        "tile": Object {
-         "q": 15,
-         "r": 5,
-       },
-     },
-     Object {
-       "corners": Array [
-         0,
-         5,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 14,
-         "r": 5,
-       },
-     },
-     Object {
-       "corners": Array [
-         5,
-         4,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 14,
-         "r": 5,
-       },
-     },
-     Object {
-       "corners": Array [
-         4,
-         3,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 14,
-         "r": 5,
-       },
-     },
-     Object {
-       "corners": Array [
-         1,
-         2,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 13,
-         "r": 5,
-       },
-     },
-     Object {
-       "corners": Array [
-         2,
-         3,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 13,
-         "r": 5,
-       },
-     },
-     Object {
-       "corners": Array [
-         5,
-         4,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 12,
-         "r": 6,
-       },
-     },
-     Object {
-       "corners": Array [
-         4,
-         3,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 12,
-         "r": 6,
-       },
-     },
-     Object {
-       "corners": Array [
-         3,
-         2,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 12,
-         "r": 6,
-       },
-     },
-     Object {
-       "corners": Array [
-         0,
-         1,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 11,
-         "r": 7,
-       },
-     },
-     Object {
-       "corners": Array [
-         1,
-         2,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 11,
-         "r": 7,
-       },
-     },
-     Object {
-       "corners": Array [
-         2,
-         3,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 11,
-         "r": 7,
-       },
-     },
-     Object {
-       "corners": Array [
-         5,
-         4,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 10,
-         "r": 8,
-       },
-     },
-     Object {
-       "corners": Array [
-         4,
-         3,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 10,
-         "r": 8,
-       },
-     },
-     Object {
-       "corners": Array [
-         3,
-         2,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 10,
-         "r": 8,
-       },
-     },
-     Object {
-       "corners": Array [
-         0,
-         1,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 9,
-         "r": 9,
-       },
-     },
-     Object {
-       "corners": Array [
-         1,
-         2,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 9,
-         "r": 9,
-       },
-     },
-     Object {
-       "corners": Array [
-         2,
-         3,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 9,
-         "r": 9,
-       },
-     },
-     Object {
-       "corners": Array [
-         5,
-         4,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 8,
-         "r": 10,
-       },
-     },
-     Object {
-       "corners": Array [
-         4,
-         3,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 8,
-         "r": 10,
-       },
-     },
-     Object {
-       "corners": Array [
-         3,
-         2,
-       ],
-       "mouth": false,
-       "tile": Object {
          "q": 8,
-         "r": 10,
-       },
-     },
-     Object {
-       "corners": Array [
-         0,
-         1,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 7,
-         "r": 11,
-       },
-     },
-     Object {
-       "corners": Array [
-         1,
-         2,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 7,
-         "r": 11,
-       },
-     },
-     Object {
-       "corners": Array [
-         2,
-         3,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 7,
-         "r": 11,
-       },
-     },
-     Object {
-       "corners": Array [
-         5,
-         4,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 6,
-         "r": 12,
-       },
-     },
-     Object {
-       "corners": Array [
-         4,
-         3,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 6,
-         "r": 12,
-       },
-     },
-     Object {
-       "corners": Array [
-         3,
-         2,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 6,
-         "r": 12,
-       },
-     },
-     Object {
-       "corners": Array [
-         0,
-         1,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 5,
-         "r": 13,
-       },
-     },
-     Object {
-       "corners": Array [
-         1,
-         2,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 5,
-         "r": 13,
-       },
-     },
-     Object {
-       "corners": Array [
-         2,
-         3,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 5,
-         "r": 13,
-       },
-     },
-     Object {
-       "corners": Array [
-         5,
-         4,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 4,
-         "r": 14,
-       },
-     },
-     Object {
-       "corners": Array [
-         4,
-         3,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 4,
-         "r": 14,
-       },
-     },
-     Object {
-       "corners": Array [
-         3,
-         2,
-       ],
-       "mouth": true,
-       "tile": Object {
-         "q": 4,
-         "r": 14,
-       },
-     },
-   ],
-   Array [
-     Object {
-       "corners": Array [
-         3,
-         4,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 8,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 7,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          5,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 7,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          4,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 7,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          1,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 6,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 6,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 6,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 5,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          5,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 5,
          "r": 4,
        },
      },
      Object {
        "corners": Array [
          2,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 5,
          "r": 3,
        },
      },
      Object {
        "corners": Array [
          1,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 5,
          "r": 3,
        },
      },
      Object {
        "corners": Array [
          0,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 5,
          "r": 3,
        },
      },
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 6,
          "r": 2,
        },
      },
      Object {
        "corners": Array [
          4,
          5,
        ],
        "mouth": false,
        "tile": Object {
          "q": 6,
          "r": 2,
        },
      },
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": true,
        "tile": Object {
          "q": 6,
          "r": 2,
        },
      },
    ],
    Array [
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 13,
          "r": 11,
        },
      },
      Object {
        "corners": Array [
          5,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 12,
          "r": 12,
        },
      },
      Object {
        "corners": Array [
          4,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 12,
          "r": 12,
        },
      },
      Object {
        "corners": Array [
          1,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 11,
          "r": 12,
        },
      },
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 11,
          "r": 12,
        },
      },
      Object {
        "corners": Array [
          3,
          4,
        ],
        "mouth": false,
        "tile": Object {
          "q": 11,
          "r": 12,
        },
      },
      Object {
        "corners": Array [
          0,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 10,
          "r": 12,
        },
      },
      Object {
        "corners": Array [
          1,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 10,
          "r": 12,
        },
      },
      Object {
        "corners": Array [
          2,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 10,
          "r": 12,
        },
      },
      Object {
        "corners": Array [
          5,
          0,
        ],
        "mouth": false,
        "tile": Object {
          "q": 9,
          "r": 13,
        },
      },
      Object {
        "corners": Array [
          0,
          1,
        ],
        "mouth": false,
        "tile": Object {
          "q": 9,
          "r": 13,
        },
      },
      Object {
        "corners": Array [
          1,
          2,
        ],
        "mouth": false,
        "tile": Object {
          "q": 9,
          "r": 13,
        },
      },
      Object {
        "corners": Array [
          4,
          3,
        ],
        "mouth": false,
        "tile": Object {
          "q": 9,
          "r": 14,
        },
      },
      Object {
        "corners": Array [
          3,
-         2,
-       ],
-       "mouth": false,
-       "tile": Object {
-         "q": 9,
-         "r": 14,
-       },
-     },
-     Object {
-       "corners": Array [
          2,
-         1,
        ],
        "mouth": true,
        "tile": Object {
          "q": 9,
          "r": 14,
        },
      },
    ],
  ]

 ❯ src/map/rivers-polylines.snap.test.ts:146:25
    144|         );
    145| 
    146|         expect(summary).toEqual([
       |                         ^
    147|             [
    148|                 { tile: { q: 4, r: 8 }, corners: [2, 3], mouth: false …

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/2]⎯

 Test Files  1 failed (1)
      Tests  2 failed | 1 passed (3)
   Start at  15:06:57
   Duration  689ms (transform 131ms, setup 0ms, collect 144ms, tests 57ms, environment 0ms, prepare 158ms)

npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path /Users/ejuchheim/Projects/Simple-Civ/SimpleCiv/engine
npm error workspace @simple-civ/engine@1.0.0
npm error location /Users/ejuchheim/Projects/Simple-Civ/SimpleCiv/engine
npm error command failed
npm error command sh -c vitest run src/map/rivers-polylines.snap.test.ts
